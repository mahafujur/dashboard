import UserManager from "../../auth/UserManager";import {useEffect, useState} from "react";import {useHistory} from "react-router-dom";import DashboardPage from "./dashboardPage";import ApiContainer from "../../apis/auth";import Swal from "sweetalert2";import CustomLoader from "../../components/Loader/customLoader";export default function DashboardIndex() {    const history = useHistory()    const user = UserManager.getLoggedInUser();    const [dashboardData, setDashboardData] = useState(undefined);    const [loading, setLoading] = useState(false);    useEffect(() => {        if (!user) history.push('/login')    }, [])    useEffect(() => {        if (user && dashboardData === undefined) dashboardApi();    }, [])    function dashboardApi() {        setLoading(true)        ApiContainer.dashboard()            .then(response => {                if (response.ok) {                    setDashboardData(response.data.dashboard)                } else {                    setDashboardData([])                    Swal.fire({                        title: "Request Failed",                        text: response.data.msg,                        confirmButtonColor: '#ff8c00',                        confirmButtonText: 'Back',                    })                }            })            .catch(err => {                console.log(err)                Swal.fire('Error', "Something is wrong", 'error');            })            .finally(() => {                setLoading(false)            });    }    if (user) {        return (            <div>                {loading && <CustomLoader/>}                {dashboardData && <DashboardPage user={user} data={dashboardData}/>}            </div>        )    } else return <div/>}